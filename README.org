#+title: toy-gun
toy-gun is abstract server.

#+begin_src common-lisp
(require 'toy-gun)

(defun echo-ink (stream)
  (loop for input = (read-char stream nil nil)
        while input do
        (progn
          (format stream "~A" input)
          (force-output stream))))

(defun main (&rest argv)
  (declare (ignorable argv))
  (setq toy-gun:*cartridge* #'echo-ink)
  (toy-gun:start :port 38080 :address "0.0.0.0"))
#+begin_end
